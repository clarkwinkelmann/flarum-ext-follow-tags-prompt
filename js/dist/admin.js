module.exports=function(t){var n={};function a(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=n,a.d=function(t,n,o){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(o,r,function(n){return t[n]}.bind(null,r));return o},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a(a.s=18)}([,function(t,n){t.exports=flarum.core.compat["admin/app"]},function(t,n){t.exports=flarum.core.compat["common/extend"]},function(t,n,a){"use strict";function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function r(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n)}a.d(n,"a",(function(){return r}))},function(t,n){t.exports=flarum.core.compat["tags/utils/sortTags"]},,,function(t,n){t.exports=flarum.core.compat["common/components/Switch"]},,,,,,function(t,n){t.exports=flarum.core.compat["admin/components/BasicsPage"]},function(t,n){t.exports=flarum.core.compat["admin/components/ExtensionPage"]},function(t,n){t.exports=flarum.core.compat["common/components/Select"]},function(t,n){t.exports=flarum.core.compat["common/components/LoadingIndicator"]},,function(t,n,a){"use strict";a.r(n);var o=a(1),r=a.n(o),e=a(2),i=a(13),l=a.n(i),s=a(3),c=a(14),u=a.n(c),g=a(15),p=a.n(g),f=a(7),d=a.n(f),y=a(4),b=a.n(y),h=a(16),v=a.n(h),w="clarkwinkelmann-follow-tags-prompt.",S="clarkwinkelmann-follow-tags-prompt.admin.settings.",T=function(t){function n(){for(var n,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).allTagsLoaded=!1,n.loadingAllTags=!1,n}Object(s.a)(n,t);var a=n.prototype;return a.oninit=function(n){t.prototype.oninit.call(this,n),"list"===this.setting(w+"availableTagStrategy")()&&this.loadAllTags()},a.loadAllTags=function(){var t=this;this.loadingAllTags=!0,r.a.store.find("tags",{include:"parent,lastPostedDiscussion"}).then((function(){t.loadingAllTags=!1,t.allTagsLoaded=!0,m.redraw()}))},a.content=function(){var t=this;return m(".ExtensionPage-settings",m(".container",[m(".Form-group",[m("label",d.a.component({state:"1"===this.setting(w+"buttonOnFollowingPage","1")(),onchange:function(n){t.setting(w+"buttonOnFollowingPage")(n?"1":"0")}},r.a.translator.trans(S+"buttonOnFollowingPage")))]),m(".Form-group",[m("label",d.a.component({state:"1"===this.setting(w+"allDiscussionsOnFollowingPageForGuests")(),onchange:function(n){t.setting(w+"allDiscussionsOnFollowingPageForGuests")(n?"1":"0")}},r.a.translator.trans(S+"allDiscussionsOnFollowingPageForGuests")))]),m(".Form-group",[m("label",r.a.translator.trans(S+"availableTagStrategy")),p.a.component({options:{primary:r.a.translator.trans(S+"tagStrategy.primary"),primaryAndChildren:r.a.translator.trans(S+"tagStrategy.primaryAndChildren"),primaryAndSecondary:r.a.translator.trans(S+"tagStrategy.primaryAndSecondary"),secondary:r.a.translator.trans(S+"tagStrategy.secondary"),all:r.a.translator.trans(S+"tagStrategy.all"),list:r.a.translator.trans(S+"tagStrategy.list")},value:this.setting(w+"availableTagStrategy")()||"primary",onchange:function(n){"list"!==n||t.allTagsLoaded||t.loadingAllTags||t.loadAllTags(),t.setting(w+"availableTagStrategy")(n)}})]),this.tagList(),m(".Form-group",this.submitButton())]))},a.tagList=function(){var t=this;if("list"!==this.setting(w+"availableTagStrategy")())return null;if(this.loadingAllTags)return v.a.component();var n=[];try{n=JSON.parse(this.setting(w+"availableTagIds")()||"[]")}catch(t){console.warn("Could not parse existing value for "+w+"availableTagIds",t)}return Array.isArray(n)||(n=[]),b()(r.a.store.all("tags")).map((function(a){var o=-1!==n.indexOf(a.id());return m(".Form-group",[m("label",d.a.component({state:o,onchange:function(o){t.setting(w+"availableTagIds")(JSON.stringify(o?[].concat(n,[a.id()]):n.filter((function(t){return t!==a.id()}))))}},a.name()))])}))},n}(u.a);r.a.initializers.add("clarkwinkelmann/follow-tags-prompt",(function(){r.a.extensionData.for("clarkwinkelmann-follow-tags-prompt").registerPage(T),Object(e.extend)(l.a.prototype,"homePageItems",(function(t){t.add("clarkwinkelmann-following-tags-prompt",{path:"/following",label:r.a.translator.trans("clarkwinkelmann-follow-tags-prompt.admin.homepage.following")})}))}))}]);
//# sourceMappingURL=admin.js.map